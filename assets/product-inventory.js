var r=Object.defineProperty;var a=(o,e,t)=>e in o?r(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var s=(o,e,t)=>a(o,typeof e!="symbol"?e+"":e,t);import{T as i}from"./events.js";import{m as d}from"./morph.js";import"./component.js";import"./utilities.js";class c extends HTMLElement{constructor(){super(...arguments);s(this,"updateInventory",t=>{if(t.detail.data.newProduct)this.dataset.productId=t.detail.data.newProduct.id;else if(t.target instanceof HTMLElement&&t.target.dataset.productId!==this.dataset.productId)return;const n=t.detail.data.html.querySelector("product-inventory");n&&d(this,n,{childrenOnly:!0})})}connectedCallback(){this.closest(".shopify-section, dialog")?.addEventListener(i.variantUpdate,this.updateInventory)}disconnectedCallback(){this.closest(".shopify-section, dialog")?.removeEventListener(i.variantUpdate,this.updateInventory)}}customElements.get("product-inventory")||customElements.define("product-inventory",c);
