var h=Object.defineProperty;var l=t=>{throw TypeError(t)};var d=(t,e,o)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var f=(t,e,o)=>d(t,typeof e!="symbol"?e+"":e,o),m=(t,e,o)=>e.has(t)||l("Cannot "+o);var n=(t,e,o)=>(m(t,e,"read from private field"),o?o.call(t):e.get(t)),u=(t,e,o)=>e.has(t)?l("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),s=(t,e,o,a)=>(m(t,e,"write to private field"),a?a.call(t,o):e.set(t,o),o);import{C as g}from"./component.js";import{d as p,f as C}from"./utilities.js";import{c as b}from"./performance.js";var r;class y extends g{constructor(){super(...arguments);u(this,r,null);f(this,"updateCartNote",p(async o=>{if(!(o.target instanceof HTMLTextAreaElement))return;const a=o.target.value;n(this,r)&&n(this,r).abort();const c=new AbortController;s(this,r,c);try{const i=C("json",{body:JSON.stringify({note:a})});await fetch(Theme.routes.cart_update_url,{...i,signal:c.signal})}catch{}finally{s(this,r,null),b.measureFromEvent("note-update:user-action",o)}},200))}}r=new WeakMap;customElements.get("cart-note")||customElements.define("cart-note",y);
