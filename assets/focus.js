const o={};function u(t){return Array.from(t.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}function f(t){a();const r=u(t);if(!r.length)return;const s=r[0],n=r[r.length-1];o.keydown=e=>{if(e.key!=="Tab")return;const c=document.activeElement;!e.shiftKey&&c===n?(e.preventDefault(),s?.focus()):e.shiftKey&&(c===s||c===t)&&(e.preventDefault(),n?.focus())},o.focusin=e=>{e.target instanceof Node&&!t.contains(e.target)&&(e.stopPropagation(),s?.focus())},document.addEventListener("keydown",o.keydown,!0),document.addEventListener("focusin",o.focusin,!0),t.focus()}function a(){o.keydown&&document.removeEventListener("keydown",o.keydown,!0),o.focusin&&document.removeEventListener("focusin",o.focusin,!0)}function d(t,r){let n=t.findIndex(c=>c.matches(":focus"))+r;n>=t.length?n=0:n<0&&(n=t.length-1);const e=t[n];e&&e.focus()}export{d as c,a as r,f as t};
