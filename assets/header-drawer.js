var L=Object.defineProperty;var f=t=>{throw TypeError(t)};var v=(t,s,e)=>s in t?L(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var h=(t,s,e)=>v(t,typeof s!="symbol"?s+"":s,e),p=(t,s,e)=>s.has(t)||f("Cannot "+e);var d=(t,s,e)=>(p(t,s,"read from private field"),e?e.call(t):s.get(t)),u=(t,s,e)=>s.has(t)?f("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,e);var r=(t,s,e)=>(p(t,s,"access private method"),e);import{C as g}from"./component.js";import{t as E,r as b}from"./focus.js";import{o as k}from"./utilities.js";var o,i,l,m,y;class q extends g{constructor(){super(...arguments);u(this,i);h(this,"requiredRefs",["details"]);u(this,o,e=>{e.key==="Escape"&&r(this,i,m).call(this,r(this,i,l).call(this,e))})}connectedCallback(){super.connectedCallback(),this.addEventListener("keyup",d(this,o)),r(this,i,y).call(this)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("keyup",d(this,o))}get isOpen(){return this.refs.details.hasAttribute("open")}toggle(){return this.isOpen?this.close():this.open()}open(e){const a=r(this,i,l).call(this,e),n=a.querySelector("summary");n&&(n.setAttribute("aria-expanded","true"),this.preventInitialAccordionAnimations(a),requestAnimationFrame(()=>{a.classList.add("menu-open"),setTimeout(()=>{E(a)},0)}))}back(e){r(this,i,m).call(this,r(this,i,l).call(this,e))}close(){r(this,i,m).call(this,this.refs.details)}preventInitialAccordionAnimations(e){const a=e.querySelectorAll("accordion-custom .details-content");a.forEach(n=>{n instanceof HTMLElement&&n.classList.add("details-content--no-animation")}),setTimeout(()=>{a.forEach(n=>{n instanceof HTMLElement&&n.classList.remove("details-content--no-animation")})},100)}}o=new WeakMap,i=new WeakSet,l=function(e){return e?.target instanceof Element?e.target.closest("details")??this.refs.details:this.refs.details},m=function(e){const a=e.querySelector("summary");a&&(a.setAttribute("aria-expanded","false"),e.classList.remove("menu-open"),k(e,()=>{A(e),e===this.refs.details?(b(),this.querySelectorAll("details[open]:not(accordion-custom > details)").forEach(A)):setTimeout(()=>{E(this.refs.details)},0)}))},y=function(){function e(n){const c=n.target;c&&c instanceof HTMLElement&&(c.style.setProperty("will-change","unset"),c.removeEventListener("animationend",e))}this.querySelectorAll(".menu-drawer__animated-element").forEach(n=>{n.addEventListener("animationend",e)})};customElements.get("header-drawer")||customElements.define("header-drawer",q);function A(t){t.classList.remove("menu-open"),t.removeAttribute("open"),t.querySelector("summary")?.setAttribute("aria-expanded","false")}
