var O=Object.defineProperty;var T=t=>{throw TypeError(t)};var z=(t,i,e)=>i in t?O(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e;var E=(t,i,e)=>z(t,typeof i!="symbol"?i+"":i,e),L=(t,i,e)=>i.has(t)||T("Cannot "+e);var s=(t,i,e)=>(L(t,i,"read from private field"),e?e.call(t):i.get(t)),r=(t,i,e)=>i.has(t)?T("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(t):i.set(t,e),a=(t,i,e,n)=>(L(t,i,"write to private field"),n?n.call(t,e):i.set(t,e),e),C=(t,i,e)=>(L(t,i,"access private method"),e);import{C as H}from"./component.js";import{n as x,q as A}from"./utilities.js";var c,d,f,p,l,S,v,M,g,y,D,w;class R extends H{constructor(){super(...arguments);r(this,y);E(this,"requiredRefs",["headerDrawerContainer","headerMenu","headerRowTop"]);r(this,c,null);r(this,d,null);r(this,f,!1);r(this,p,0);r(this,l,null);r(this,S,150);r(this,v,new ResizeObserver(([e])=>{if(!e||!e.borderBoxSize[0])return;const n=Math.round(e.borderBoxSize[0].blockSize);document.body.style.setProperty("--header-height",`${n}px`),s(this,c)&&window.innerWidth>s(this,c)&&C(this,y,D).call(this,!1)}));r(this,M,(e=!0)=>{if(s(this,d))return;const n={threshold:e?1:0};a(this,d,new IntersectionObserver(([h])=>{if(!h)return;const{isIntersecting:o}=h;e?(this.dataset.stickyState=o?"inactive":"active",A(this.refs.headerRowTop)):a(this,f,!o||this.dataset.stickyState==="active")},n)),s(this,d).observe(this)});r(this,g,e=>{C(this,y,D).call(this,e.detail.minimumReached)});r(this,w,()=>{const e=this.getAttribute("sticky");if(!s(this,f)&&e!=="always")return;const n=document.scrollingElement?.scrollTop??0,h=n<s(this,p);if(s(this,l)&&(clearTimeout(s(this,l)),a(this,l,null)),e==="always"){this.getBoundingClientRect().top>=0?this.dataset.scrollDirection="none":h?this.dataset.scrollDirection="up":this.dataset.scrollDirection="down",a(this,p,n);return}h?(this.removeAttribute("data-animating"),this.getBoundingClientRect().top>=0?(a(this,f,!1),this.dataset.stickyState="inactive",this.dataset.scrollDirection="none"):(this.dataset.stickyState="active",this.dataset.scrollDirection="up")):this.dataset.stickyState==="active"?(this.dataset.scrollDirection="none",this.setAttribute("data-animating",""),a(this,l,setTimeout(()=>{this.dataset.stickyState="idle",this.removeAttribute("data-animating")},s(this,S)))):(this.dataset.scrollDirection="none",this.dataset.stickyState="idle"),a(this,p,n)})}connectedCallback(){super.connectedCallback(),s(this,v).observe(this),this.addEventListener("overflowMinimum",s(this,g));const e=this.getAttribute("sticky");e&&(s(this,M).call(this,e==="always"),(e==="scroll-up"||e==="always")&&document.addEventListener("scroll",s(this,w)))}disconnectedCallback(){super.disconnectedCallback(),s(this,v).disconnect(),s(this,d)?.disconnect(),this.removeEventListener("overflowMinimum",s(this,g)),document.removeEventListener("scroll",s(this,w)),document.body.style.setProperty("--header-height","0px")}}c=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,l=new WeakMap,S=new WeakMap,v=new WeakMap,M=new WeakMap,g=new WeakMap,y=new WeakSet,D=function(e){e?(this.refs.headerDrawerContainer.classList.remove("desktop:hidden"),a(this,c,window.innerWidth),this.refs.headerMenu.classList.add("hidden")):(this.refs.headerDrawerContainer.classList.add("desktop:hidden"),a(this,c,null),this.refs.headerMenu.classList.remove("hidden"))},w=new WeakMap;customElements.get("header-component")||customElements.define("header-component",R);x(()=>{const t=document.querySelector("header-component"),i=document.querySelector("#header-group");if(i){const e=new ResizeObserver(o=>{const u=o.reduce((m,b)=>b.target!==t||t.hasAttribute("transparent")&&t.parentElement?.nextElementSibling?m+(b.borderBoxSize[0]?.blockSize??0):m,0),k=Math.round(u);document.body.style.setProperty("--header-group-height",`${k}px`)});t instanceof HTMLElement&&e.observe(t);const n=i.children;for(let o=0;o<n.length;o++){const u=n[o];u instanceof HTMLElement&&e.observe(u)}new MutationObserver(o=>{for(const u of o)if(u.type==="childList"){const k=i.children;for(let m=0;m<k.length;m++){const b=k[m];b instanceof HTMLElement&&e.observe(b)}}}).observe(i,{childList:!0})}});
