var A=Object.defineProperty;var N=s=>{throw TypeError(s)};var F=(s,t,e)=>t in s?A(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var z=(s,t,e)=>F(s,typeof t!="symbol"?t+"":t,e),I=(s,t,e)=>t.has(s)||N("Cannot "+e);var i=(s,t,e)=>(I(s,t,"read from private field"),e?e.call(s):t.get(s)),n=(s,t,e)=>t.has(s)?N("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),o=(s,t,e,l)=>(I(s,t,"write to private field"),l?l.call(s,e):t.set(s,e),e),b=(s,t,e)=>(I(s,t,"access private method"),e);import{u as U,p as j,d as q}from"./utilities.js";const V=50;var u,g,L,x,C,T,E,m,f,r,B,H,M,S,P,p;class Y{constructor(t,e){n(this,r);z(this,"element");n(this,u);n(this,g);n(this,L);n(this,x);n(this,C);n(this,T);n(this,E,!0);n(this,m,!1);n(this,f,!1);n(this,S,()=>{var t;i(this,p).cancel(),(t=i(this,g))==null||t.call(this),o(this,u,void 0),o(this,g,void 0),o(this,E,!0),o(this,m,!1)});n(this,P,()=>{var e;if(i(this,f)||((e=i(this,C))==null||e.call(this),o(this,f,!0)),i(this,m)){i(this,S).call(this),i(this,p).call(this,!1);return}const t=i(this,E);b(this,r,M).call(this),t&&i(this,L).call(this),i(this,p).call(this,t)});n(this,p,q(t=>{var e,l;(e=i(this,g))==null||e.call(this),t&&i(this,x).call(this),i(this,S).call(this),i(this,f)&&((l=i(this,T))==null||l.call(this),o(this,f,!1))},V));o(this,L,U(e.onScroll,V)),o(this,x,e.onScroll),o(this,C,e.onScrollStart),o(this,T,e.onScrollEnd),this.element=t,this.element.addEventListener("scroll",i(this,P))}async to(t,e){let l;if(t instanceof HTMLElement){const a=J(this.element,this.axis);l=t[`offset${i(this,r,H)}`]-a}else l=t;this.element[`scroll${i(this,r,H)}`]!==l?b(this,r,B).call(this,{...e,method:"scrollTo",value:l}):i(this,f)&&i(this,p).call(this,!1)}by(t,e){b(this,r,B).call(this,{...e,method:"scrollBy",value:t})}get axis(){return G(this.element)}get finished(){return i(this,u)??Promise.resolve()}set snap(t){o(this,m,!0),this.element.style.setProperty("scroll-snap-type",t?`${this.axis} mandatory`:"none")}destroy(){this.element.removeEventListener("scroll",i(this,P))}}u=new WeakMap,g=new WeakMap,L=new WeakMap,x=new WeakMap,C=new WeakMap,T=new WeakMap,E=new WeakMap,m=new WeakMap,f=new WeakMap,r=new WeakSet,B=function(t){const{method:e,value:l,instant:h=j()}=t;i(this,S).call(this),o(this,m,h),o(this,E,!1);const c=this.element[`scroll${i(this,r,H)}`],a=e==="scrollBy"?c+l:l;if(Math.abs(a-c)<1)return Promise.resolve();h||b(this,r,M).call(this),this.element[e]({[i(this,r,H).toLowerCase()]:l,behavior:h?"instant":"smooth"})},H=function(){return this.axis==="x"?"Left":"Top"},M=function(){i(this,u)||o(this,u,new Promise(t=>o(this,g,t)))},S=new WeakMap,P=new WeakMap,p=new WeakMap;function G(s){return s.scrollHeight>s.clientHeight&&s.scrollWidth===s.clientWidth?"y":s.scrollWidth>s.clientWidth&&s.scrollHeight===s.clientHeight||s.scrollWidth>s.scrollHeight?"x":"y"}function J(s,t){const e=getComputedStyle(s),l=t==="x"?e.paddingInlineStart:e.paddingBlockStart;return parseFloat(l)}function Z(s,{ancestor:t,behavior:e="smooth",block:l="start",inline:h="start"}={}){if(!t)return s.scrollIntoView({behavior:e,block:l,inline:h});const c=s.getBoundingClientRect(),a=t.getBoundingClientRect(),v=(_,k,O,R,D,$)=>{switch(_){case"start":return $+R-k;case"center":return $+R-k-O/2+D/2;case"end":return $+R-k-O+D;default:return $}},w=t.scrollHeight>t.clientHeight?v(l,a.top,t.clientHeight,c.top,c.height,t.scrollTop):t.scrollTop,d=t.scrollWidth>t.clientWidth?v(h,a.left,t.clientWidth,c.left,c.width,t.scrollLeft):t.scrollLeft;t.scrollTo({top:w,left:d,behavior:e})}var y,W;class K extends HTMLElement{constructor(){super(...arguments);n(this,y,()=>{const{scrollTop:e,scrollHeight:l,clientHeight:h,scrollLeft:c,scrollWidth:a,clientWidth:v}=this,w=a>v?"horizontal":"vertical",d=w==="vertical"?e/(l-h):c/(a-v);this.style.maskImage=Number.isNaN(d)?"":`linear-gradient(
        to ${w==="vertical"?"bottom":"right"},
        transparent ${d>0?1:0}%,
        black ${d<.1?d*100:10}%,
        black ${d>.9?d*100:90}%,
        transparent 100%
      )`});n(this,W,new ResizeObserver(i(this,y)))}connectedCallback(){this.addEventListener("scroll",i(this,y)),i(this,W).observe(this)}disconnectedCallback(){this.removeEventListener("scroll",i(this,y)),i(this,W).disconnect()}}y=new WeakMap,W=new WeakMap;customElements.get("scroll-hint")||customElements.define("scroll-hint",K);export{Y as S,Z as s};
