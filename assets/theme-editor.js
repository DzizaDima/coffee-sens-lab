import{F as b}from"./utilities.js";const f={activeSlideIndex:null},g={activeSlideIndex:null},h={activeSlideIndex:null};document.addEventListener("shopify:block:select",function(n){if(n.target instanceof HTMLElement){if(document.querySelectorAll("product-card[data-no-navigation]").forEach(o=>{o instanceof HTMLElement&&o.removeAttribute("data-no-navigation")}),n.target.tagName==="PRODUCT-CARD"){const o=n.target.closest(".shopify-section");o&&o.querySelectorAll("product-card").forEach(r=>{r instanceof HTMLElement&&r.setAttribute("data-no-navigation","true")})}const i=n.target.closest("slideshow-slide");if(i){const o=i.closest("slideshow-component");if(o){const s=Array.from(i.parentElement?.children??[]).indexOf(i);if(s===-1)return;const r=s===h.activeSlideIndex;h.activeSlideIndex=s,o.pause(),o.select(s,void 0,{animate:!r})}}const c=n.target.closest("[data-carousel-card]");if(c&&c.closest("slideshow-component")){const s=Array.from(c.parentElement?.children??[]);if(!s)return;const r=s.indexOf(c);if(r===-1)return;const u=r===g.activeSlideIndex;g.activeSlideIndex=r;const d=s[r];d instanceof HTMLElement&&d.scrollIntoView({behavior:u?"instant":"smooth",inline:"center"})}const l=n.target.closest('layered-slideshow-component [role="tabpanel"]');if(l){const o=l.closest("layered-slideshow-component");if(!o)return;const s=Array.from(o.querySelectorAll('[role="tabpanel"]')).indexOf(l);if(s===-1)return;const r=s===f.activeSlideIndex;f.activeSlideIndex=s,o.select(s,{instant:r})}}});document.addEventListener("shopify:block:deselect",function(n){if(n.target instanceof HTMLElement){n.target.tagName==="PRODUCT-CARD"&&n.target.removeAttribute("data-no-navigation");const i=n.target.closest("slideshow-component");i&&i.resume()}});document.addEventListener("shopify:section:load",function(n){n.target instanceof HTMLElement&&n.target.classList.contains("shopify-section-group-header-group")&&b()});document.addEventListener("shopify:section:unload",function(n){n.target instanceof HTMLElement&&n.target.classList.contains("shopify-section-group-header-group")&&setTimeout(()=>{b()},500)});window.addEventListener("beforeunload",function(n){sessionStorage.setItem("editor-page-unloading","true")});const S=/iPad|iPhone|iPod/.test(navigator.userAgent);window.Shopify?.designMode&&!S&&function(){const i="editor-save-state";function c(){const e=sessionStorage.getItem("editor-page-unloading")==="true";return e&&sessionStorage.removeItem("editor-page-unloading"),e}function l(){Object.keys(sessionStorage).forEach(t=>{t.startsWith(i)&&sessionStorage.removeItem(t)})}function o(e){const t=sessionStorage.getItem(`${i}-${e}`);return t?JSON.parse(t):null}function s(e,t,a){sessionStorage.setItem(`${i}-${e}`,JSON.stringify({isOpen:t,instanceId:a}))}const r=[{name:"account-popover",selector:".account-popover",matches(e){return e.matches(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>e.setAttribute("open","")},{name:"account-drawer",selector:".account-drawer",matches(e){return!!e.closest(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>e.showDialog()},{name:"localization-dropdown",selector:"dropdown-localization-component",matches(e){return!!e.closest(this.selector)},isOpen:e=>e.getAttribute("aria-expanded")==="true",open:e=>e.showPanel()},{name:"search-modal",selector:".search-modal",matches(e){return!!e.closest(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>e.showDialog()},{name:"cart-drawer",selector:"cart-drawer-component",matches(e){return!!e.closest(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>{e.open()}},{name:"header-drawer",selector:"header-drawer",matches(e){return!!e.closest(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>{e.open(),e.refs.details.setAttribute("open","")}},{name:"local-pickup-modal",selector:".pickup-location__dialog",matches(e){return e.matches(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>{e.closest("dialog-component").toggleDialog()}},{name:"quick-add-modal",getInstanceId:e=>e.querySelector("product-price")?.dataset?.productId,selector:".quick-add-modal",matches(e){return e.matches(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:(e,t)=>{document.querySelector(`product-form-component[data-product-id="${t}"] .quick-add__button--choose`)?.click()}},{name:"floating-panel-component",getInstanceId:e=>e.id,selector:".facets__panel",matches(e){return e.matches(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:(e,t)=>document.querySelector(`#${t}`)?.setAttribute("open","")},{name:"facets-panel",selector:".facets--drawer",matches(e){return e.matches(this.selector)},isOpen:e=>e.getAttribute("open")!=null,open:e=>e?.setAttribute("open","")}];c()?l():r.forEach(e=>{const t=document.querySelector(e.selector);if(!t)return;const a=o(e.name),p=a?.isOpen,m=a?.instanceId;p&&setTimeout(()=>{e.open(t,m)})});const u=e=>{const t=r.find(m=>m.matches(e));if(!t)return;const a=t.isOpen(e),p=t.getInstanceId?.(e);s(t.name,a,p)},d=["open","aria-expanded"];new MutationObserver(e=>{for(const t of e)if(t.type==="attributes"&&t.attributeName&&d.includes(t.attributeName)){const a=t.target;u(a)}}).observe(document.body,{childList:!0,attributes:!0,attributeFilter:d,subtree:!0})}();
