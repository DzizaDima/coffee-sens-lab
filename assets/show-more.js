var v=Object.defineProperty;var b=e=>{throw TypeError(e)};var D=(e,s,t)=>s in e?v(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t;var C=(e,s,t)=>D(e,typeof s!="symbol"?s+"":s,t),H=(e,s,t)=>s.has(e)||b("Cannot "+t);var i=(e,s,t)=>(H(e,s,"read from private field"),t?t.call(e):s.get(e)),n=(e,s,t)=>s.has(e)?b("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,t),r=(e,s,t,o)=>(H(e,s,"write to private field"),o?o.call(e,t):s.set(e,t),t),x=(e,s,t)=>(H(e,s,"access private method"),t);import{C as O}from"./component.js";import{i as S}from"./utilities.js";var a,d,l,c,m,k,f,g,p,u,w,M,E;class y extends O{constructor(){super(...arguments);n(this,m);C(this,"requiredRefs",["showMoreButton","showMoreItems","showMoreContent"]);n(this,a,!1);n(this,d,!1);n(this,l,0);n(this,c,"hidden");n(this,f);n(this,g,300);n(this,p,()=>{r(this,d,this.dataset.disableOnDesktop==="true"),r(this,c,i(this,d)?"mobile:hidden":"hidden")});n(this,u,()=>{const{showMoreItems:t,showMoreContent:o}=this.refs;r(this,l,o.offsetHeight);const h=i(this,l);return t?.forEach(B=>B.classList.remove(i(this,c))),{startHeight:h,endHeight:o.scrollHeight}});n(this,w,()=>{const{showMoreContent:t}=this.refs,o=t.offsetHeight,h=i(this,l);return{startHeight:o,endHeight:h}});n(this,M,(t,o)=>{const{showMoreContent:h}=this.refs;h.style.overflow="hidden",i(this,f)?.cancel(),r(this,f,h.animate({height:[`${t}px`,`${o}px`]},{duration:i(this,g),easing:"ease-in-out"})),i(this,f).onfinish=()=>x(this,m,E).call(this)});C(this,"toggle",t=>{if(t.preventDefault(),i(this,p).call(this),i(this,m,k)==="DESKTOP"&&i(this,d))return;const{startHeight:o,endHeight:h}=i(this,a)?i(this,w).call(this):i(this,u).call(this);this.dataset.expanded=i(this,a)?"false":"true",this.refs.showMoreButton.setAttribute("aria-expanded",this.dataset.expanded),i(this,M).call(this,o,h)})}connectedCallback(){super.connectedCallback(),i(this,p).call(this)}}a=new WeakMap,d=new WeakMap,l=new WeakMap,c=new WeakMap,m=new WeakSet,k=function(){return S()?"MOBILE":"DESKTOP"},f=new WeakMap,g=new WeakMap,p=new WeakMap,u=new WeakMap,w=new WeakMap,M=new WeakMap,E=function(){const{showMoreContent:t,showMoreItems:o}=this.refs;i(this,a)&&o.forEach(h=>h.classList.add(i(this,c))),t.style.removeProperty("height"),t.style.overflow="",r(this,a,!i(this,a))};customElements.get("show-more-component")||customElements.define("show-more-component",y);
